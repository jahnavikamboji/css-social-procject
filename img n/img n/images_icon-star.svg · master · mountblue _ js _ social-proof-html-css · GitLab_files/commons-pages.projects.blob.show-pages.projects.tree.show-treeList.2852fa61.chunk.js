(this.webpackJsonp=this.webpackJsonp||[]).push([[219],{"6Zpb":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getForkDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"ref"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"forkDetails"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ref"},value:{kind:"Variable",name:{kind:"Name",value:"ref"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ahead"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"behind"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSyncing"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasConflicts"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:200}};n.loc.source={body:"query getForkDetails($projectPath: ID!, $ref: String) {\n  project(fullPath: $projectPath) {\n    id\n    forkDetails(ref: $ref) {\n      ahead\n      behind\n      isSyncing\n      hasConflicts\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.getForkDetails=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,r=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"getForkDetails")},"E/jO":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return d}));n("Tznw"),n("IYH6"),n("6yen"),n("OeRx"),n("l/dT"),n("RqS2"),n("Zy7a"),n("cjZU"),n("OAhk"),n("X42P"),n("mHhP"),n("fn0I"),n("UB/6"),n("imhG"),n("kidC"),n("F/X0"),n("ZzK0"),n("z6RN"),n("BzOf"),n("B++/"),n("47t/");const i=function({nodeType:e}){return 3===e},a=function(e,t){const n=document.createElement("span");return n.innerText=e,n.classList=t||"",n},s=function(e,t,n){const s=a();return s.innerHTML=function(e){return e.replace(/ /g,a(" ").outerHTML).replace(/\t/g,a("\t").outerHTML)}(e),s.childNodes.forEach((function(s){return function(e,t,n,s){if(i(e)&&(r=e.textContent,o=t,(l=r)&&!/^\s*$/.test(l)&&r.trim()===o.trim())){const i=a(t.trim(),n);Object.assign(i.dataset,s),e.replaceWith(i)}var r,o,l}(s,e,t,n)})),s.childNodes},r=new Map,o=new WeakSet,l=function(){return r.get("current")},c=function(e){return r.set("current",e)},d=function({path:e,d:t,wrapTextNodes:n}){const a=t.start_line+1,r=document.querySelector(`[data-path="${e}"]`).querySelectorAll(`.blob-content #LC${a}, .line_content:not(.old) #LC${a}`);null!=r&&r.length&&r.forEach((function(e){if(void 0===t.end_line)!function({d:e,line:t,wrapTextNodes:n}){let a=0;n&&(t.childNodes.forEach((function(e){e.replaceWith(...s(e.textContent,e.classList,e.dataset))})),o.add(t));const r=[...t.childNodes].find((function({textContent:t}){return a===e.start_char||(a+=t.length,!1)}));r&&!i(r)&&(r.dataset.charIndex=e.start_char,r.dataset.lineIndex=e.start_line,r.classList.add("cursor-pointer","code-navigation","js-code-navigation"),r.closest(".line").classList.add("code-navigation-line"))}({d:t,line:e,wrapTextNodes:n});else{const n=document.createTreeWalker(e,NodeFilter.SHOW_TEXT);let i=0,a=n.nextNode();for(;a&&!(t.start_char>=i&&t.end_char<=i+a.textContent.length);)i+=a.textContent.length,a=n.nextNode();if(a&&t.start_char!==t.end_char){const n=a.textContent,s=t.end_char-t.start_char,r=t.start_char-i,o=document.createElement("span");o.textContent=n.slice(r,r+s),o.dataset.charIndex=t.start_char,o.dataset.lineIndex=t.start_line,o.classList.add("gl-cursor-pointer","code-navigation","js-code-navigation"),a.replaceWith(n.slice(0,r),o,n.slice(r+s)),e.classList.add("code-navigation-line")}}}))}},Ib7s:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getCodeOwnersInfo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filePath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"ref"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"codeOwnersPath"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ref"},value:{kind:"Variable",name:{kind:"Name",value:"ref"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"blobs"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paths"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"filePath"}}]}},{kind:"Argument",name:{kind:"Name",value:"ref"},value:{kind:"Variable",name:{kind:"Name",value:"ref"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"codeOwners"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webPath"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:363}};n.loc.source={body:"query getCodeOwnersInfo($projectPath: ID!, $filePath: String!, $ref: String!) {\n  project(fullPath: $projectPath) {\n    id\n    repository {\n      codeOwnersPath(ref: $ref)\n      blobs(paths: [$filePath], ref: $ref) {\n        nodes {\n          id\n          codeOwners {\n            id\n            name\n            webPath\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.getCodeOwnersInfo=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,r=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"getCodeOwnersInfo")},Iixh:function(e,t,n){"use strict";var i=n("yi8e"),a=(n("ZzK0"),n("z6RN"),n("BzOf"),n("RFHG"),n("xuo1"),n("2ibD")),s=n("E/jO");var r={setInitialData({commit:e},t){e("SET_INITIAL_DATA",t)},requestDataError({commit:e}){e("REQUEST_DATA_ERROR")},fetchData({commit:e,dispatch:t,state:n}){e("REQUEST_DATA"),n.blobs.forEach((function({path:n,codeNavigationPath:i}){a.a.get(i).then((function({data:t}){const i=t.reduce((function(e,t){var n;t.hover&&(e[`${t.start_line}:${t.start_char}`]={...t,definitionLineNumber:parseInt((null===(n=t.definition_path)||void 0===n?void 0:n.split("#L").pop())||0,10)});return e}),{});e("REQUEST_DATA_SUCCESS",{path:n,normalizedData:i})})).catch((function(){return t("requestDataError")}))}))},showBlobInteractionZones({state:e},t){e.data&&e.data[t]&&Object.values(e.data[t]).forEach((function(n){return Object(s.a)({path:t,d:n,wrapTextNodes:e.wrapTextNodes})}))},showDefinition({commit:e,state:t},{target:n}){let i,a;if(!t.data)return;const r=n.classList.contains("hll");Object(s.b)()&&Object(s.b)().classList.remove("hll");const o=n.closest("[data-path]");if(!o)return void e("SET_CURRENT_DEFINITION",{definition:i,position:a});const l=o.dataset.path,c=t.data[l];if(c){if(n.closest(".js-code-navigation")&&!r){var d;const{lineIndex:e,charIndex:t}=n.dataset;a={x:n.offsetLeft||0,y:n.offsetTop+((null===(d=n.closest("pre.code"))||void 0===d?void 0:d.offsetTop)||0)||0,height:n.offsetHeight,lineIndex:parseInt(e,10)},i=c[`${e}:${t}`],n.classList.add("hll"),Object(s.c)(n)}e("SET_CURRENT_DEFINITION",{definition:i,position:a,blobPath:l})}}},o={SET_INITIAL_DATA(e,{blobs:t,definitionPathPrefix:n,wrapTextNodes:i}){e.blobs=t,e.definitionPathPrefix=n,e.wrapTextNodes=i},REQUEST_DATA(e){e.loading=!0},REQUEST_DATA_SUCCESS(e,{path:t,normalizedData:n}){e.loading=!1,e.data={...e.data,[t]:n}},REQUEST_DATA_ERROR(e){e.loading=!1},SET_CURRENT_DEFINITION(e,{definition:t,position:n,blobPath:i}){e.currentDefinition=t,e.currentDefinitionPosition=n,e.currentBlobPath=i}};t.a=function(){return new i.b.Store({actions:r,mutations:o,state:{blobs:[],loading:!1,data:null,wrapTextNodes:!1,currentDefinition:null,currentDefinitionPosition:null,currentBlobPath:null}})}},JYQl:function(e,t,n){"use strict";var i=n("7xOh");t.a=Object(i.a)()},PFaH:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("RFHG"),n("z6RN"),n("xuo1");var i=n("/lV4");const a=function(e,{onlyCommas:t=!1}={}){return 0===e.length?"":1===e.length?Object(i.sprintf)(Object(i.s__)("nounSeries|%{item}"),{item:e[0]},!1):2!==e.length||t?e.reduce((function(n,a,s){return s!==e.length-1||t?Object(i.sprintf)(Object(i.s__)("nounSeries|%{item}, %{nextItem}"),{item:n,nextItem:a},!1):Object(i.sprintf)(Object(i.s__)("nounSeries|%{item}, and %{lastItem}"),{item:n,lastItem:a},!1)})):Object(i.sprintf)(Object(i.s__)("nounSeries|%{firstItem} and %{lastItem}"),{firstItem:e[0],lastItem:e[1]},!1)}},W8JV:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"syncFork"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetBranch"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"projectSyncFork"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"projectPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}},{kind:"ObjectField",name:{kind:"Name",value:"targetBranch"},value:{kind:"Variable",name:{kind:"Name",value:"targetBranch"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"details"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ahead"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"behind"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSyncing"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasConflicts"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:247}};n.loc.source={body:"mutation syncFork($projectPath: ID!, $targetBranch: String!) {\n  projectSyncFork(input: { projectPath: $projectPath, targetBranch: $targetBranch }) {\n    details {\n      ahead\n      behind\n      isSyncing\n      hasConflicts\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.syncFork=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,r=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"syncFork")},aOF2:function(e,t,n){"use strict";var i=n("kUOS"),a=n("Pyw5"),s=n.n(a);const r={name:"GlCollapse",components:{BCollapse:i.a},model:{prop:"visible",event:"input"},props:{visible:{type:Boolean,default:!1,required:!1}}};const o=s()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-collapse",this._g(this._b({attrs:{visible:this.visible}},"b-collapse",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,r,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=o},c0EM:function(e,t,n){"use strict";function i(){return new Worker(n.p+"highlight_worker.054afb77.worker.js")}n.d(t,"a",(function(){return i}))},gpiL:function(e,t,n){"use strict";n("v2fZ");var i=n("s1D3"),a=n("MV2A"),s=n("4lAS"),r=n("30su"),o=n("4+8U"),l=n("FkSe"),c=n("/lV4"),d=n("jlnU"),u=n("W8JV"),h=n.n(u),p=n("JYQl"),f=n("uQq6"),m=n("6Zpb"),v=n.n(m),g=n("1cpz"),b=n("Agcx"),k=n("Mp8J"),_=n("3twG");const w={modalTitle:Object(c.s__)("ForksDivergence|Resolve merge conflicts manually"),modalMessage:Object(c.s__)("ForksDivergence|The upstream changes could not be synchronized to this project due to file conflicts in the default branch. You must resolve the conflicts manually:"),step1:Object(c.__)("Step 1."),step2:Object(c.__)("Step 2."),step3:Object(c.__)("Step 3."),step4:Object(c.__)("Step 4."),step1Text:Object(c.s__)("ForksDivergence|Fetch the latest changes from the upstream repository's default branch:"),step2Text:Object(c.s__)("ForksDivergence|Check out to a branch, and merge the changes from the upstream project's default branch. You likely need to resolve conflicts during this step."),step3Text:Object(c.s__)("ForksDivergence|Push the updates to remote:"),copyToClipboard:Object(c.__)("Copy to clipboard"),close:Object(c.__)("Close")};var O={name:"ForkSyncConflictsModal",components:{GlModal:g.a,GlButton:s.a,ModalCopyButton:b.a},directives:{SafeHtml:k.a},props:{sourceDefaultBranch:{type:String,required:!1,default:""},sourceName:{type:String,required:!1,default:""},sourcePath:{type:String,required:!1,default:""},selectedBranch:{type:String,required:!0,default:""}},computed:{instructionsStep1(){return`git fetch ${Object(_.l)()}${this.sourcePath} ${this.sourceDefaultBranch}`},instructionsStep2(){return`git checkout ${this.selectedBranch}\ngit merge FETCH_HEAD`}},methods:{show(){this.$refs.modal.show()},hide(){this.$refs.modal.hide()}},i18n:w,instructionsStep3:"git push"},S=n("tBpV"),y=Object(S.a)(O,(function(){var e=this,t=e._self._c;return t("gl-modal",{ref:"modal",attrs:{"modal-id":"fork-sync-conflicts-modal",title:e.$options.i18n.modalTitle,size:"md"},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[t("gl-button",{on:{click:e.hide,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.hide.apply(null,arguments)}}},[e._v(e._s(e.$options.i18n.close))])]},proxy:!0}])},[t("p",[e._v(e._s(e.$options.i18n.modalMessage))]),e._v(" "),t("p",[t("b",[e._v(" "+e._s(e.$options.i18n.step1))]),e._v(" "+e._s(e.$options.i18n.modalMessage)+"\n    ")]),e._v(" "),t("div",{staticClass:"gl-mb-4 gl-flex"},[t("pre",{staticClass:"gl-mb-0 gl-mr-3 gl-w-full",attrs:{"data-testid":"resolve-conflict-instructions"}},[e._v(e._s(e.instructionsStep1))]),e._v(" "),t("modal-copy-button",{staticClass:"gl-shrink-0 !gl-bg-transparent !gl-shadow-none",attrs:{"modal-id":"fork-sync-conflicts-modal",text:e.instructionsStep1,title:e.$options.i18n.copyToClipboard}})],1),e._v(" "),t("p",[t("b",[e._v(" "+e._s(e.$options.i18n.step2))]),e._v(" "+e._s(e.$options.i18n.step2Text)+"\n    ")]),e._v(" "),t("div",{staticClass:"gl-mb-4 gl-flex"},[t("pre",{staticClass:"gl-mb-0 gl-mr-3 gl-w-full",attrs:{"data-testid":"resolve-conflict-instructions"}},[e._v(e._s(e.instructionsStep2))]),e._v(" "),t("modal-copy-button",{staticClass:"gl-shrink-0 !gl-bg-transparent !gl-shadow-none",attrs:{"modal-id":"fork-sync-conflicts-modal",text:e.instructionsStep2,title:e.$options.i18n.copyToClipboard}})],1),e._v(" "),t("p",[t("b",[e._v(" "+e._s(e.$options.i18n.step3))]),e._v(" "+e._s(e.$options.i18n.step3Text)+"\n    ")]),e._v(" "),t("div",{staticClass:"gl-mb-4 gl-flex"},[t("pre",{staticClass:"gl-mb-0 gl-w-full",attrs:{"data-testid":"resolve-conflict-instructions"}},[e._v(e._s(e.$options.instructionsStep3)+"\n")]),e._v(" "),t("modal-copy-button",{staticClass:"gl-ml-3 gl-shrink-0 !gl-bg-transparent !gl-shadow-none",attrs:{"modal-id":"fork-sync-conflicts-modal",text:e.$options.instructionsStep3,title:e.$options.i18n.copyToClipboard}})],1)])}),[],!1,null,null,null).exports;var j={i18n:{forkedFrom:Object(c.s__)("ForkedFromProjectPath|Forked from"),inaccessibleProject:Object(c.s__)("ForkedFromProjectPath|Forked from an inaccessible project."),upToDate:Object(c.s__)("ForksDivergence|Up to date with the upstream repository."),unknown:Object(c.s__)("ForksDivergence|This fork has diverged from the upstream repository."),behind:Object(c.s__)("ForksDivergence|%{behindLinkStart}%{behind} %{commit_word} behind%{behindLinkEnd}"),ahead:Object(c.s__)("ForksDivergence|%{aheadLinkStart}%{ahead} %{commit_word} ahead%{aheadLinkEnd} of"),behindAhead:Object(c.s__)("ForksDivergence|%{messages} the upstream repository."),limitedVisibility:Object(c.s__)("ForksDivergence|Source project has a limited visibility."),error:Object(c.s__)("ForksDivergence|Failed to fetch fork details. Try again later."),updateFork:Object(c.s__)("ForksDivergence|Update fork"),createMergeRequest:Object(c.s__)("ForksDivergence|Create merge request"),viewMergeRequest:Object(c.s__)("ForksDivergence|View merge request"),successMessage:Object(c.s__)("ForksDivergence|Successfully fetched and merged from the upstream repository.")},components:{GlIcon:i.a,GlLink:a.a,GlButton:s.a,GlSprintf:r.a,GlSkeletonLoader:o.a,ConflictsModal:y,GlLoadingIcon:l.a},apollo:{project:{query:v.a,notifyOnNetworkStatusChange:!0,variables(){return this.forkDetailsQueryVariables},skip(){return!this.sourceName},error(e){Object(d.createAlert)({message:this.$options.i18n.error,captureError:!0,error:e})},result({loading:e}){!e&&this.isSyncing&&this.increasePollInterval(),this.isForkUpdated&&(Object(d.createAlert)({message:this.$options.i18n.successMessage,variant:d.VARIANT_INFO}),p.a.$emit(f.f))},pollInterval(){return this.pollInterval}}},props:{projectPath:{type:String,required:!0},selectedBranch:{type:String,required:!0},sourceDefaultBranch:{type:String,required:!1,default:""},sourceName:{type:String,required:!1,default:""},sourcePath:{type:String,required:!1,default:""},canSyncBranch:{type:Boolean,required:!1,default:!1},aheadComparePath:{type:String,required:!1,default:""},behindComparePath:{type:String,required:!1,default:""},createMrPath:{type:String,required:!1,default:""},viewMrPath:{type:String,required:!1,default:""}},data:()=>({project:{},currentPollInterval:null}),computed:{forkDetailsQueryVariables(){return{projectPath:this.projectPath,ref:this.selectedBranch}},pollInterval(){return this.isSyncing?this.currentPollInterval:0},isLoading(){return this.$apollo.queries.project.loading},forkDetails(){var e;return null===(e=this.project)||void 0===e?void 0:e.forkDetails},hasConflicts(){var e;return null===(e=this.forkDetails)||void 0===e?void 0:e.hasConflicts},isSyncing(){var e;return null===(e=this.forkDetails)||void 0===e?void 0:e.isSyncing},isForkUpdated(){return this.isUpToDate&&this.currentPollInterval},ahead(){var e;return null===(e=this.project)||void 0===e||null===(e=e.forkDetails)||void 0===e?void 0:e.ahead},behind(){var e;return null===(e=this.project)||void 0===e||null===(e=e.forkDetails)||void 0===e?void 0:e.behind},behindText(){return Object(c.sprintf)(this.$options.i18n.behind,{behind:this.behind,commit_word:Object(c.n__)("commit","commits",this.behind)})},aheadText(){return Object(c.sprintf)(this.$options.i18n.ahead,{ahead:this.ahead,commit_word:Object(c.n__)("commit","commits",this.ahead)})},isUnknownDivergence(){return this.sourceName&&null===this.ahead&&null===this.behind},isUpToDate(){return 0===this.ahead&&0===this.behind},behindAheadMessage(){const e=[];return this.behind>0&&e.push(this.behindText),this.ahead>0&&e.push(this.aheadText),e.join(", ")},hasBehindAheadMessage(){return this.behindAheadMessage.length>0},hasUpdateButton(){return this.canSyncBranch&&(this.sourceName&&this.forkDetails&&this.behind||this.isUnknownDivergence)},hasCreateMrButton(){return this.ahead&&this.createMrPath},hasViewMrButton(){return this.viewMrPath},forkDivergenceMessage(){return this.forkDetails?this.isUnknownDivergence?this.$options.i18n.unknown:this.hasBehindAheadMessage?Object(c.sprintf)(this.$options.i18n.behindAhead,{messages:this.behindAheadMessage},!1):this.$options.i18n.upToDate:this.$options.i18n.limitedVisibility}},watch:{hasConflicts(e){e&&this.currentPollInterval&&this.showConflictsModal()}},methods:{async syncForkWithPolling(){var e=this;await this.$apollo.mutate({mutation:h.a,variables:{projectPath:this.projectPath,targetBranch:this.selectedBranch},error(e){Object(d.createAlert)({message:e.message,captureError:!0,error:e})},update:function(t,{data:{projectSyncFork:n}}){const{details:i}=n;t.writeQuery({query:v.a,variables:e.forkDetailsQueryVariables,data:{project:{id:e.project.id,forkDetails:i}}})}})},showConflictsModal(){this.$refs.modal.show()},startSyncing(){this.syncForkWithPolling()},checkIfSyncIsPossible(){this.hasConflicts?this.showConflictsModal():this.startSyncing()},increasePollInterval(){const e=f.m,t=this.currentPollInterval,n=Math.min(t*e,f.e);this.currentPollInterval=this.currentPollInterval?n:f.n}}},N=Object(S.a)(j,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"info-well gl-mt-5 gl-flex-col sm:gl-flex"},[t("div",{staticClass:"well-segment gl-flex gl-w-full gl-p-5"},[t("gl-icon",{staticClass:"gl-m-4 gl-block gl-text-center",attrs:{name:"fork",size:16}}),e._v(" "),t("div",{staticClass:"gl-flex gl-grow gl-items-center gl-justify-between"},[e.sourceName?t("div",[e._v("\n        "+e._s(e.$options.i18n.forkedFrom)+"\n        "),t("gl-link",{attrs:{"data-testid":"forked-from-link",href:e.sourcePath}},[e._v(e._s(e.sourceName))]),e._v(" "),e.isLoading?t("gl-skeleton-loader",{attrs:{lines:1}}):t("div",{staticClass:"gl-text-subtle",attrs:{"data-testid":"divergence-message"}},[t("gl-sprintf",{attrs:{message:e.forkDivergenceMessage},scopedSlots:e._u([{key:"aheadLink",fn:function({content:n}){return[t("gl-link",{attrs:{href:e.aheadComparePath}},[e._v(e._s(n))])]}},{key:"behindLink",fn:function({content:n}){return[t("gl-link",{attrs:{href:e.behindComparePath}},[e._v(e._s(n))])]}}],null,!1,921789833)})],1)],1):t("div",{staticClass:"gl-flex gl-items-center",attrs:{"data-testid":"inaccessible-project"}},[e._v("\n        "+e._s(e.$options.i18n.inaccessibleProject)+"\n      ")]),e._v(" "),t("div",{staticClass:"gl-hidden sm:gl-flex"},[e.hasCreateMrButton?t("gl-button",{staticClass:"gl-ml-4",attrs:{href:e.createMrPath,"data-testid":"create-mr-button"}},[t("span",[e._v(e._s(e.$options.i18n.createMergeRequest))])]):e._e(),e._v(" "),e.hasViewMrButton?t("gl-button",{staticClass:"gl-ml-4",attrs:{href:e.viewMrPath,"data-testid":"view-mr-button"}},[t("span",[e._v(e._s(e.$options.i18n.viewMergeRequest))])]):e._e(),e._v(" "),e.hasUpdateButton?t("gl-button",{staticClass:"gl-ml-4",attrs:{disabled:e.forkDetails.isSyncing,"data-testid":"update-fork-button"},on:{click:e.checkIfSyncIsPossible}},[e.forkDetails.isSyncing?t("gl-loading-icon",{staticClass:"gl-inline",attrs:{size:"sm"}}):e._e(),e._v(" "),t("span",[e._v(e._s(e.$options.i18n.updateFork))])],1):e._e()],1),e._v(" "),t("conflicts-modal",{ref:"modal",attrs:{"selected-branch":e.selectedBranch,"source-name":e.sourceName,"source-path":e.sourcePath,"source-default-branch":e.sourceDefaultBranch}})],1)],1)])}),[],!1,null,null,null);t.a=N.exports},iM2x:function(e,t,n){"use strict";var i=n("s1D3"),a=n("z1xw"),s=n("/lV4"),r={components:{GlIcon:i.a},directives:{GlTooltip:a.a},props:{status:{type:Object,required:!0,validator(e){const{icon:t}=e;return"string"==typeof t&&t.startsWith("status")}},showStatusText:{type:Boolean,required:!1,default:!1},showTooltip:{type:Boolean,required:!1,default:!0},useLink:{type:Boolean,default:!0,required:!1}},computed:{componentType(){return this.href?"a":"span"},title(){var e;return this.showTooltip?this.showStatusText?null:null===(e=this.status)||void 0===e?void 0:e.text:null},ariaLabel(){var e;return Object(s.sprintf)(Object(s.__)("Status: %{status}"),{status:null===(e=this.status)||void 0===e?void 0:e.text})},href(){return this.useLink?this.status.detailsPath||this.status.details_path:null},icon(){return this.status.icon?this.status.icon+"_borderless":null},variant(){switch(this.status.icon){case"status_success":return"success";case"status_warning":case"status_pending":return"warning";case"status_failed":return"danger";case"status_running":return"info";default:return"neutral"}}}},o=n("tBpV"),l=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t(e.componentType,{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport.left",modifiers:{viewport:!0,left:!0}}],tag:"component",staticClass:"ci-icon gl-inline-flex gl-items-center gl-text-sm",class:"ci-icon-variant-"+e.variant,attrs:{variant:e.variant,title:e.title,"aria-label":e.ariaLabel,href:e.href,"data-testid":"ci-icon"},on:{click:function(t){return e.$emit("ciStatusBadgeClick")}}},[t("span",{staticClass:"ci-icon-gl-icon-wrapper"},[t("gl-icon",{attrs:{name:e.icon}})],1),e.showStatusText?t("span",{staticClass:"gl-ml-2 gl-mr-3 gl-self-center gl-whitespace-nowrap gl-leading-1",attrs:{"data-testid":"ci-icon-text"}},[e._v(e._s(e.status.text))]):e._e()])}),[],!1,null,null,null);t.a=l.exports},kUOS:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var i=n("9k56"),a=n("3hkr"),s=n("CU79"),r=n("jIK5"),o=n("BBKf"),l=n("ZdEn"),c=n("i8zK"),d=n("VuSA"),u=n("hII5"),h=n("5TS0"),p=n("qO70"),f=n("aBA8"),m=n("lgrP"),v=n("oTzT");const g={css:!0,enterClass:"",enterActiveClass:"collapsing",enterToClass:"collapse show",leaveClass:"collapse show",leaveActiveClass:"collapsing",leaveToClass:"collapse"},b={enter:e=>{Object(v.F)(e,"height",0),Object(v.B)(()=>{Object(v.w)(e),Object(v.F)(e,"height",e.scrollHeight+"px")})},afterEnter:e=>{Object(v.A)(e,"height")},leave:e=>{Object(v.F)(e,"height","auto"),Object(v.F)(e,"display","block"),Object(v.F)(e,"height",Object(v.i)(e).height+"px"),Object(v.w)(e),Object(v.F)(e,"height",0)},afterLeave:e=>{Object(v.A)(e,"height")}},k={appear:Object(u.b)(r.g,!1)},_=Object(i.c)({name:a.e,functional:!0,props:k,render(e,t){let{props:n,data:i,children:a}=t;return e("transition",Object(m.a)(i,{props:g,on:b},{props:n}),a)}}),w=Object(l.d)(a.d,"toggle"),O=Object(l.d)(a.d,"request-state"),S=Object(l.e)(a.d,"accordion"),y=Object(l.e)(a.d,"state"),j=Object(l.e)(a.d,"sync-state"),{mixin:N,props:C,prop:T,event:P}=Object(c.a)("visible",{type:r.g,defaultValue:!1}),x=Object(u.c)(Object(d.m)({...h.b,...C,accordion:Object(u.b)(r.r),appear:Object(u.b)(r.g,!1),tag:Object(u.b)(r.r,"div")}),a.d),D=Object(i.c)({name:a.d,mixins:[h.a,N,f.a,p.a],props:x,data(){return{show:this[T],transitioning:!1}},computed:{classObject(){const{transitioning:e}=this;return{collapse:!e,show:this.show&&!e}},slotScope(){return{visible:this.show,close:()=>{this.show=!1}}}},watch:{[T](e){e!==this.show&&(this.show=e)},show(e,t){e!==t&&this.emitState()}},created(){this.show=this[T]},mounted(){this.show=this[T],this.listenOnRoot(w,this.handleToggleEvent),this.listenOnRoot(S,this.handleAccordionEvent),this.$nextTick(()=>{this.emitState()}),this.listenOnRoot(O,e=>{e===this.safeId()&&this.$nextTick(this.emitSync)})},updated(){this.emitSync()},beforeDestroy(){this.show=!1},methods:{toggle(){this.show=!this.show},onEnter(){this.transitioning=!0,this.$emit(s.L)},onAfterEnter(){this.transitioning=!1,this.$emit(s.M)},onLeave(){this.transitioning=!0,this.$emit(s.t)},onAfterLeave(){this.transitioning=!1,this.$emit(s.s)},emitState(){const{show:e,accordion:t}=this,n=this.safeId();this.$emit(P,e),this.emitOnRoot(y,n,e),t&&e&&this.emitOnRoot(S,n,t)},emitSync(){this.emitOnRoot(j,this.safeId(),this.show)},handleToggleEvent(e){e===this.safeId()&&this.toggle()},handleAccordionEvent(e,t){const{accordion:n,show:i}=this;if(!n||n!==t)return;const a=e===this.safeId();(a&&!i||!a&&i)&&this.toggle()}},render(e){const{appear:t}=this,n=e(this.tag,{class:this.classObject,directives:[{name:"show",value:this.show}],attrs:{id:this.safeId()}},this.normalizeSlot(o.e,this.slotScope));return e(_,{props:{appear:t},on:{enter:this.onEnter,afterEnter:this.onAfterEnter,leave:this.onLeave,afterLeave:this.onAfterLeave}},[n])}})},vcM6:function(e,t,n){"use strict";var i=n("o4PY"),a=n.n(i),s=(n("3UXl"),n("iyoE"),n("s1D3")),r=n("MV2A"),o=n("4lAS"),l=n("Lzak"),c=n("aOF2"),d=n("A7K0"),u=n("30su"),h=n("/lV4"),p=n("jlnU"),f=n("qLpH"),m=n("PFaH"),v=n("xRSn"),g=n("Ib7s"),b=n.n(g);var k={i18n:{title:Object(h.s__)("CodeOwners|Code owners"),and:Object(h.__)("and"),errorMessage:Object(h.s__)("CodeOwners|An error occurred while loading code owners."),manageBranchRules:Object(h.__)("Manage branch rules"),noCodeOwnersText:Object(h.s__)("CodeOwners|Assign users and groups as approvers for specific file changes."),helpText:Object(h.s__)("CodeOwners|Code owners are users and groups that can approve specific file changes."),learnMore:Object(h.s__)("CodeOwners|Learn more."),showAll:Object(h.s__)("CodeOwners|Show all"),hideAll:Object(h.s__)("CodeOwners|Hide all")},codeOwnersHelpPath:Object(f.a)("user/project/codeowners/index.md"),helpPopoverId:a()("help-popover-"),components:{GlIcon:s.a,GlLink:r.a,GlButton:o.a,GlBadge:l.a,GlCollapse:c.a,GlPopover:d.a,GlSprintf:u.a,HelpIcon:v.a},apollo:{project:{query:b.a,variables(){return{projectPath:this.projectPath,filePath:this.filePath,ref:this.branch}},skip(){return!this.filePath},error(){Object(p.createAlert)({message:this.$options.i18n.errorMessage})}}},props:{projectPath:{type:String,required:!0},filePath:{type:String,required:!1,default:""},branch:{type:String,required:!1,default:""},canViewBranchRules:{type:Boolean,required:!1,default:!1},branchRulesPath:{type:String,required:!1,default:""}},data:()=>({isCodeOwnersExpanded:!1,project:{}}),computed:{blobInfo(){var e;return null===(e=this.project)||void 0===e||null===(e=e.repository)||void 0===e||null===(e=e.blobs)||void 0===e?void 0:e.nodes[0]},collapseIcon(){return this.isCodeOwnersExpanded?"chevron-down":"chevron-right"},codeOwnersPath(){var e;return null===(e=this.project)||void 0===e||null===(e=e.repository)||void 0===e?void 0:e.codeOwnersPath},codeOwners(){var e;return(null===(e=this.blobInfo)||void 0===e?void 0:e.codeOwners)||[]},codeOwnersTotal(){var e;return null===(e=this.blobInfo)||void 0===e||null===(e=e.codeOwners)||void 0===e?void 0:e.length},toggleText(){return this.isCodeOwnersExpanded?this.$options.i18n.hideAll:this.$options.i18n.showAll},hasCodeOwners(){return this.filePath&&Boolean(this.codeOwners.length)},codeOwnersSprintfMessage(){return Object(m.a)(this.codeOwners.map((function(e,t){return`%{linkStart}${t}%{linkEnd}`})))},isLoading(){return this.$apollo.queries.project.loading}},watch:{filePath(){this.$apollo.queries.project.refetch()}},methods:{toggleCodeOwners(){this.isCodeOwnersExpanded=!this.isCodeOwnersExpanded},getCodeOwner(e){return this.codeOwners[Number(e)]}}},_=n("tBpV"),w=Object(_.a)(k,(function(){var e=this,t=e._self._c;return e.filePath?t("div",{staticClass:"well-segment blob-auxiliary-viewer file-owner-content gl-flex gl-items-baseline gl-justify-between",attrs:{"data-testid":"codeowners-container"}},[t("div",{staticClass:"gl-flex gl-flex-wrap gl-pr-3"},[t("div",[t("gl-icon",{attrs:{name:"users"}}),e._v(" "),t(e.hasCodeOwners?"gl-link":"span",{tag:"component",staticClass:"gl-font-bold !gl-text-default",attrs:{href:e.codeOwnersPath,"data-testid":"codeowners-file-link"}},[e._v(e._s(e.$options.i18n.title)+"\n      ")])],1),e._v(" "),e.hasCodeOwners||e.isLoading?e._e():t("div",{staticClass:"gl-ml-3"},[t("span",{attrs:{"data-testid":"no-codeowners-text"}},[e._v(e._s(e.$options.i18n.noCodeOwnersText))]),e._v(" "),t("gl-link",{attrs:{"data-testid":"codeowners-docs-link",target:"_blank",href:e.$options.codeOwnersHelpPath}},[e._v(e._s(e.$options.i18n.learnMore))])],1),e._v(" "),e.hasCodeOwners&&!e.isLoading?[t("gl-badge",{staticClass:"gl-mx-3 gl-self-center"},[e._v(e._s(e.codeOwnersTotal))]),e._v(" "),t("gl-button",{staticClass:"gl-mr-3",attrs:{variant:"link",size:"small","data-testid":"collapse-toggle",icon:e.collapseIcon},on:{click:e.toggleCodeOwners}},[e._v("\n        "+e._s(e.toggleText)+"\n      ")]),e._v(" "),t("gl-collapse",{attrs:{visible:e.isCodeOwnersExpanded,"data-testid":"code-owners-list"}},[t("gl-sprintf",{attrs:{message:e.codeOwnersSprintfMessage},scopedSlots:e._u([{key:"link",fn:function({content:n}){return[t("gl-link",{attrs:{href:e.getCodeOwner(n).webPath,target:"_blank"}},[e._v(e._s(e.getCodeOwner(n).name))])]}}],null,!1,1800976543)})],1)]:e._e()],2),e._v(" "),e.hasCodeOwners?t("help-icon",{staticClass:"gl-my-3 gl-ml-auto gl-mr-3 gl-shrink-0",attrs:{id:e.$options.helpPopoverId,"aria-label":e.$options.i18n.helpText,"data-testid":"help-popover-trigger"}}):e._e(),e._v(" "),e.hasCodeOwners?t("gl-popover",{attrs:{target:e.$options.helpPopoverId,placement:"top",triggers:"hover focus"}},[e._v("\n    "+e._s(e.$options.i18n.helpText)+"\n    "),t("gl-link",{attrs:{href:e.$options.codeOwnersHelpPath}},[e._v("\n      "+e._s(e.$options.i18n.learnMore)+"\n    ")])],1):e._e(),e._v(" "),e.canViewBranchRules?t("gl-button",{staticClass:"gl-ml-2",attrs:{size:"small",href:e.branchRulesPath,"data-testid":"branch-rules-link"}},[e._v("\n    "+e._s(e.$options.i18n.manageBranchRules)+"\n  ")]):e._e()],1):e._e()}),[],!1,null,null,null);t.a=w.exports},"w/32":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("lFMf"),n("gOHk"),n("c9hT");var i=n("3twG");function a(e,t,n){const a=new URL(window.location.href);return a.pathname=Object(i.A)(Object(i.I)(["ref_type"],e),t?Object(i.k)(t):""),n&&!a.searchParams.get("ref_type")&&a.searchParams.set("ref_type",n),a}}}]);
//# sourceMappingURL=commons-pages.projects.blob.show-pages.projects.tree.show-treeList.2852fa61.chunk.js.map