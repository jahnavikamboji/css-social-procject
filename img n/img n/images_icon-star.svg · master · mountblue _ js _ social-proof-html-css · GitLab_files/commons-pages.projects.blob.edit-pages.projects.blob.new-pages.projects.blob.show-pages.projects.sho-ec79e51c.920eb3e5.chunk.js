(this.webpackJsonp=this.webpackJsonp||[]).push([[141],{"4wRe":function(e,t,n){"use strict";var a=n("TTlA"),r=n("9k56"),i=n("3hkr"),o=n("hII5"),s=n("nhwU");const l=Object(o.c)(s.c,i.t),c=Object(r.c)({name:i.t,mixins:[s.b],provide(){return{getBvRadioGroup:()=>this}},props:l,computed:{isRadioGroup:()=>!0}});var d=n("R0j4"),u=n("OQy4"),m=n("Pyw5"),f=n.n(m);const{model:h}=c.options;const _={name:"GlFormRadioGroup",components:{BFormRadioGroup:c,GlFormRadio:u.a},directives:{SafeHtml:d.a},mixins:[a.a],inheritAttrs:!1,model:h,methods:{onInput(e){this.$emit("input",e)},onChange(e){this.$emit("change",e)}}};const p=f()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-form-radio-group",e._g(e._b({staticClass:"gl-form-checkbox-group",attrs:{stacked:""},on:{input:e.onInput,change:e.onChange}},"b-form-radio-group",e.$attrs,!1),e.$listeners),[e._t("first"),e._v(" "),e._l(e.formOptions,(function(t,a){return n("gl-form-radio",{key:a,attrs:{value:t.value,disabled:t.disabled}},[t.html?n("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:t.html,expression:"option.html"}]}):n("span",[e._v(e._s(t.text))])])})),e._v(" "),e._t("default")],2)},staticRenderFns:[]},void 0,_,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=p},O4EH:function(e,t,n){"use strict";n("aFm2"),n("z6RN"),n("R9qC");var a=n("dsWN"),r=n("1cpz"),i=n("SeSR"),o=n("l5WF"),s=n("PrLL"),l=n("OQy4"),c=n("4wRe"),d=n("47in"),u=n("F6ad"),m=n("30su"),f=n("MV2A"),h=n("Qhxq"),_=n("/lV4"),p=n("U8h0"),g=n("qLpH"),b=n("uQq6"),v={csrf:h.a,components:{GlAlert:a.a,GlModal:r.a,GlFormCheckbox:i.a,GlFormGroup:o.a,GlFormInput:s.a,GlFormRadio:l.a,GlFormRadioGroup:c.a,GlFormTextarea:d.a,GlForm:u.a,GlSprintf:m.a,GlLink:f.a},i18n:{BRANCH:Object(_.__)("Branch"),BRANCH_IN_FORK_MESSAGE:Object(_.__)("GitLab will create a branch in your fork and start a merge request."),CURRENT_BRANCH_LABEL:Object(_.__)("Commit to the current %{branchName} branch"),COMMIT_CHANGES:Object(_.__)("Commit changes"),COMMIT_IN_BRANCH_MESSAGE:Object(_.__)("Your changes can be committed to %{branchName} because a merge request is open."),COMMIT_IN_DEFAULT_BRANCH:Object(_.__)("GitLab will create a default branch, %{branchName}, and commit your changes."),COMMIT_LABEL:Object(_.__)("Commit message"),COMMIT_MESSAGE_HINT:Object(_.__)("Try to keep the first line under 52 characters and the others under 72."),NEW_BRANCH:Object(_.__)("New branch"),NEW_BRANCH_LABEl:Object(_.__)("Commit to a new branch"),CREATE_MR_LABEL:Object(_.__)("Create a merge request for this change"),LFS_WARNING_TITLE:Object(_.__)("The file you're about to delete is tracked by LFS"),LFS_WARNING_PRIMARY_CONTENT:Object(_.s__)("BlobViewer|If you delete the file, it will be removed from the branch %{branch}."),LFS_WARNING_SECONDARY_CONTENT:Object(_.s__)("BlobViewer|This file will still take up space in your LFS storage. %{linkStart}How do I remove tracked objects from Git LFS?%{linkEnd}"),LFS_CONTINUE_TEXT:Object(_.__)("Continueâ€¦"),LFS_CANCEL_TEXT:Object(_.__)("Cancel"),NO_PERMISSION_TO_COMMIT_MESSAGE:Object(_.__)("You don't have permission to commit to %{branchName}. %{linkStart}Learn more.%{linkEnd}"),SECONDARY_OPTIONS_TEXT:Object(_.__)("Cancel")},directives:{validation:Object(p.a)()},props:{modalId:{type:String,required:!0},commitMessage:{type:String,required:!0},targetBranch:{type:String,required:!0},originalBranch:{type:String,required:!0},canPushCode:{type:Boolean,required:!0},canPushToBranch:{type:Boolean,required:!0},emptyRepo:{type:Boolean,required:!1,default:!1},isUsingLfs:{type:Boolean,required:!1,default:!1},branchAllowsCollaboration:{type:Boolean,required:!1,default:!1},valid:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1}},data(){return{lfsWarningDismissed:!1,createNewBranch:!1,createNewMr:!0,form:{state:!1,showValidation:!1,fields:{commit_message:Object(p.b)({value:this.commitMessage}),branch_name:Object(p.b)({value:this.targetBranch,skipValidation:!this.canPushCode||this.canPushToBranch})}}}},computed:{primaryOptions(){const e={text:this.$options.i18n.COMMIT_CHANGES,attributes:{variant:"confirm",loading:this.loading,disabled:this.loading||!this.form.state||!this.valid,"data-testid":"commit-change-modal-commit-button"}},t={text:this.$options.i18n.LFS_CONTINUE_TEXT,attributes:{variant:"confirm"}};return this.showLfsWarning?t:e},cancelOptions(){return{text:this.$options.i18n.SECONDARY_OPTIONS_TEXT,attributes:{disabled:this.loading}}},showHint(){const e=this.form.fields.commit_message.value.trim().split("\n"),[t,...n]=e,a=t.length>b.c,r=Boolean(n.length)&&n.some((function(e){return e.length>b.b}));return!this.form.fields.commit_message.feedback&&(a||r)},showLfsWarning(){return this.isUsingLfs&&!this.lfsWarningDismissed},title(){return this.showLfsWarning?this.$options.i18n.LFS_WARNING_TITLE:this.$options.i18n.COMMIT_CHANGES},showForm(){return!this.isUsingLfs||this.isUsingLfs&&this.lfsWarningDismissed}},methods:{show(){this.$refs[this.modalId].show(),this.lfsWarningDismissed=!1},cancel(){this.$refs[this.modalId].hide()},async handleContinueLfsWarning(){var e;this.lfsWarningDismissed=!0,await this.$nextTick(),null===(e=this.$refs.message)||void 0===e||e.$el.focus()},async handlePrimaryAction(e){if(window.onbeforeunload=null,e.preventDefault(),this.showLfsWarning)return void await this.handleContinueLfsWarning();if(this.form.showValidation=!0,!this.form.state)return;this.form.showValidation=!1;const t=this.$refs.form.$el,n=new FormData(t);this.$emit("submit-form",n)}},deleteLfsHelpPath:Object(g.a)("topics/git/lfs",{anchor:"delete-a-git-lfs-file-from-repository-history"}),protectedBranchHelpPath:Object(g.a)("user/project/repository/branches/protected")},N=n("tBpV"),C=Object(N.a)(v,(function(){var e=this,t=e._self._c;return t("gl-modal",e._b({ref:e.modalId,attrs:{"modal-id":e.modalId,title:e.title,"data-testid":"commit-change-modal","action-primary":e.primaryOptions,"action-cancel":e.cancelOptions},on:{primary:e.handlePrimaryAction}},"gl-modal",e.$attrs,!1),[e._t("body"),e._v(" "),e.showLfsWarning?t("div",[t("p",[t("gl-sprintf",{attrs:{message:e.$options.i18n.LFS_WARNING_PRIMARY_CONTENT},scopedSlots:e._u([{key:"branch",fn:function(){return[t("code",[e._v(e._s(e.targetBranch))])]},proxy:!0}],null,!1,4149292315)})],1),e._v(" "),t("p",[t("gl-sprintf",{attrs:{message:e.$options.i18n.LFS_WARNING_SECONDARY_CONTENT},scopedSlots:e._u([{key:"link",fn:function({content:n}){return[t("gl-link",{attrs:{href:e.$options.deleteLfsHelpPath}},[e._v(e._s(n))])]}}],null,!1,888329688)})],1)]):e._e(),e._v(" "),e.showForm?t("div",[t("gl-form",{ref:"form",attrs:{novalidate:""}},[t("input",{attrs:{type:"hidden",name:"authenticity_token"},domProps:{value:e.$options.csrf.token}}),e._v(" "),e._t("form-fields"),e._v(" "),t("gl-form-group",{attrs:{label:e.$options.i18n.COMMIT_LABEL,"label-for":"commit_message","invalid-feedback":e.form.fields.commit_message.feedback}},[t("gl-form-textarea",{directives:[{name:"validation",rawName:"v-validation:[form.showValidation]",arg:e.form.showValidation}],ref:"message",attrs:{id:"commit_message",name:"commit_message","no-resize":"","data-testid":"commit-message-field",state:e.form.fields.commit_message.state,disabled:e.loading,required:""},model:{value:e.form.fields.commit_message.value,callback:function(t){e.$set(e.form.fields.commit_message,"value",t)},expression:"form.fields['commit_message'].value"}}),e._v(" "),e.showHint?t("p",{staticClass:"form-text gl-text-subtle",attrs:{"data-testid":"hint"}},[e._v("\n          "+e._s(e.$options.i18n.COMMIT_MESSAGE_HINT)+"\n        ")]):e._e()],1),e._v(" "),e.emptyRepo?[t("input",{staticClass:"js-branch-name",attrs:{type:"hidden",name:"branch_name"},domProps:{value:e.originalBranch}}),e._v(" "),e.emptyRepo?t("gl-alert",{staticClass:"gl-my-3",attrs:{dismissible:!1}},[t("gl-sprintf",{attrs:{message:e.$options.i18n.COMMIT_IN_DEFAULT_BRANCH},scopedSlots:e._u([{key:"branchName",fn:function(){return[t("strong",[e._v(e._s(e.originalBranch))])]},proxy:!0}],null,!1,1261349578)})],1):e._e()]:[t("input",{attrs:{type:"hidden",name:"original_branch"},domProps:{value:e.originalBranch}}),e._v(" "),e.createNewMr?t("input",{attrs:{type:"hidden",name:"create_merge_request",value:"1"}}):e._e(),e._v(" "),e.canPushCode?[e.canPushToBranch?t("gl-form-group",{attrs:{label:e.$options.i18n.BRANCH,"label-for":"branch_selection"}},[t("gl-form-radio-group",{attrs:{name:"branch_selection",label:e.$options.i18n.BRANCH},model:{value:e.createNewBranch,callback:function(t){e.createNewBranch=t},expression:"createNewBranch"}},[t("gl-form-radio",{attrs:{value:!1,disabled:e.loading}},[t("gl-sprintf",{attrs:{message:e.$options.i18n.CURRENT_BRANCH_LABEL},scopedSlots:e._u([{key:"branchName",fn:function(){return[t("code",[e._v(e._s(e.originalBranch))])]},proxy:!0}],null,!1,2214757140)})],1),e._v(" "),t("gl-form-radio",{attrs:{value:!0,disabled:e.loading}},[e._v("\n                "+e._s(e.$options.i18n.NEW_BRANCH_LABEl)+"\n              ")])],1),e._v(" "),e.createNewBranch?t("div",{staticClass:"gl-ml-6"},[t("gl-form-group",{attrs:{"invalid-feedback":e.form.fields.branch_name.feedback}},[t("gl-form-input",{directives:[{name:"validation",rawName:"v-validation:[form.showValidation]",arg:e.form.showValidation}],staticClass:"gl-mt-2",attrs:{state:e.form.fields.branch_name.state,disabled:e.loading,name:"branch_name",placeholder:e.__("example-branch-name"),required:""},model:{value:e.form.fields.branch_name.value,callback:function(t){e.$set(e.form.fields.branch_name,"value",t)},expression:"form.fields['branch_name'].value"}})],1),e._v(" "),e.createNewBranch?t("gl-form-checkbox",{staticClass:"gl-mt-4",model:{value:e.createNewMr,callback:function(t){e.createNewMr=t},expression:"createNewMr"}},[t("span",[e._v("\n                  "+e._s(e.$options.i18n.CREATE_MR_LABEL)+"\n                ")])]):e._e()],1):e._e()],1):[t("gl-form-group",{attrs:{label:e.$options.i18n.NEW_BRANCH,"label-for":"branch_selection","invalid-feedback":e.form.fields.branch_name.feedback}},[t("label",{staticClass:"gl-font-normal gl-text-subtle",attrs:{for:"branchNameInput"}},[t("gl-sprintf",{attrs:{message:e.$options.i18n.NO_PERMISSION_TO_COMMIT_MESSAGE},scopedSlots:e._u([{key:"branchName",fn:function(){return[t("code",{staticClass:"gl-text-subtle"},[e._v(e._s(e.originalBranch))])]},proxy:!0},{key:"link",fn:function({content:n}){return[t("gl-link",{attrs:{href:e.$options.protectedBranchHelpPath}},[e._v(e._s(n))])]}}],null,!1,3243504882)})],1),e._v(" "),t("gl-form-input",{directives:[{name:"validation",rawName:"v-validation:[form.showValidation]",arg:e.form.showValidation}],attrs:{id:"branchNameInput",state:e.form.fields.branch_name.state,disabled:e.loading,name:"branch_name",required:"",placeholder:e.__("example-branch-name")},model:{value:e.form.fields.branch_name.value,callback:function(t){e.$set(e.form.fields.branch_name,"value",t)},expression:"form.fields['branch_name'].value"}})],1),e._v(" "),t("gl-form-checkbox",{staticClass:"gl-mt-4",model:{value:e.createNewMr,callback:function(t){e.createNewMr=t},expression:"createNewMr"}},[t("span",[e._v("\n                "+e._s(e.$options.i18n.CREATE_MR_LABEL)+"\n              ")])])]]:[e.branchAllowsCollaboration?t("gl-alert",{staticClass:"gl-my-3",attrs:{dismissible:!1}},[t("gl-sprintf",{attrs:{message:e.$options.i18n.COMMIT_IN_BRANCH_MESSAGE},scopedSlots:e._u([{key:"branchName",fn:function(){return[t("strong",[e._v(e._s(e.originalBranch))])]},proxy:!0}],null,!1,1261349578)})],1):t("gl-alert",{staticClass:"gl-my-3",attrs:{dismissible:!1}},[e._v(e._s(e.$options.i18n.BRANCH_IN_FORK_MESSAGE))])]]],2)],1):e._e()],2)}),[],!1,null,null,null);t.a=C.exports},OQy4:function(e,t,n){"use strict";var a=n("O1VG"),r=n("Pyw5"),i=n.n(r);const{model:o}=a.a.options;const s={name:"GlFormRadio",components:{BFormRadio:a.a},inheritAttrs:!1,model:{prop:o.prop,event:o.event},props:{checked:{type:[String,Number,Boolean,Object],required:!1,default:!1}}};const l=i()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-form-radio",e._b({staticClass:"gl-form-radio",attrs:{checked:e.checked},on:{input:function(t){return e.$emit("input",t)},change:function(t){return e.$emit("change",t)}}},"b-form-radio",e.$attrs,!1),[e._t("default"),e._v(" "),e.$scopedSlots.help?n("p",{staticClass:"help-text"},[e._t("help")],2):e._e()],2)},staticRenderFns:[]},void 0,s,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=l},U8h0:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));n("B++/"),n("z6RN"),n("47t/"),n("LdIe"),n("PTOk"),n("++os"),n("whUo"),n("3UXl"),n("iyoE");var a=n("/lV4");function r({binding:e,vnode:t}){return e.instance?e.instance:t.context}const i={valueMissing:{isInvalid:function(e){var t;return null===(t=e.validity)||void 0===t?void 0:t.valueMissing},message:Object(a.__)("Please fill out this field.")},urlTypeMismatch:{isInvalid:function(e){var t;return"url"===e.type&&(null===(t=e.validity)||void 0===t?void 0:t.typeMismatch)},message:Object(a.__)("Please enter a valid URL format, ex: http://www.example.com/home")}},o=function(e){const{target:t}=e,n=t.querySelector("input:invalid");n&&n.focus()},s=function(e){return e.querySelector("input")||e},l=function(e){return function({el:t,form:n,reportInvalidInput:a=!1}){const{name:r}=t;if(!r)return void 0;const i=n.fields[r],o=t.checkValidity();i.state=a?o:o||null,i.feedback=a?function(e,t){const n=Object.values(e).find((function(e){return e.isInvalid(t)}));let a=null;return n&&(a=t.getAttribute("validation-message")),(null==n?void 0:n.message)||a||t.validationMessage}(e,t):"",n.state=function(e){return Object.values(e.fields).every((function({state:e}){return!0===e}))}(n)}};function c(e={}){const t={...i,...e},n=new WeakMap;return{inserted(e,a,i){const{arg:c}=a,d=s(e),{form:u}=d,m=r({binding:a,vnode:i}),f=l(t),h={validate:f,isTouched:!1,isBlurred:!1};n.set(d,h),d.addEventListener("input",(function e(){h.isTouched=!0,d.removeEventListener("input",e)})),d.addEventListener("blur",(function e({target:t}){h.isTouched&&(h.isBlurred=!0,f({el:t,form:m.form,reportInvalidInput:!0}),d.removeEventListener("blur",e))})),u&&u.addEventListener("submit",o),f({el:d,form:m.form,reportInvalidInput:c})},update(e,t,a){const i=s(e),{arg:o}=t,{validate:l,isTouched:c,isBlurred:d}=n.get(i),u=o||c&&d;l({el:i,form:r({binding:t,vnode:a}).form,reportInvalidInput:u})}}}const d=function({value:e,required:t=!0,skipValidation:n=!1}){return{value:e,required:t,state:!!n||null,feedback:null}}},uQq6:function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"q",(function(){return i})),n.d(t,"r",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"h",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"l",(function(){return m})),n.d(t,"o",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"p",(function(){return _})),n.d(t,"j",(function(){return p})),n.d(t,"i",(function(){return g})),n.d(t,"s",(function(){return b})),n.d(t,"e",(function(){return v})),n.d(t,"n",(function(){return N})),n.d(t,"m",(function(){return C})),n.d(t,"f",(function(){return E}));var a=n("/lV4");const r="unavailable",i=1e3,o=100,s=25,l=52,c=72,d=Object(a.__)("An error occurred while fetching commit data."),u=1e7,m=50,f=150,h={userPermissions:{pushCode:!1,downloadCode:!1,createMergeRequestIn:!1,forkProject:!1},pathLocks:{nodes:[]},repository:{empty:!0,blobs:{nodes:[{name:"",size:"",rawTextBlob:"",type:"",fileType:"",tooLarge:!1,path:"",editBlobPath:"",gitpodBlobUrl:"",ideEditPath:"",forkAndEditPath:"",ideForkAndEditPath:"",codeNavigationPath:"",projectBlobPathRoot:"",forkAndViewPath:"",storedExternally:!1,externalStorage:"",environmentFormattedExternalUrl:"",environmentExternalUrlForRouteMap:"",canModifyBlob:!1,canCurrentUserPushToBranch:!1,archived:!1,rawPath:"",externalStorageUrl:"",replacePath:"",pipelineEditorPath:"",deletePath:"",simpleViewer:{},richViewer:null,webPath:""}]}}},_="text",p="lfs",g=["podfile","podspec","cartfile","requirements_txt","cargo_toml","go_mod"],b={generalError:Object(a.__)("An error occurred while fetching folder content."),gitalyError:Object(a.__)("Error: Gitaly is unavailable. Contact your administrator.")},v=3e5,N=2500,C=2,E="fork:updated"}}]);
//# sourceMappingURL=commons-pages.projects.blob.edit-pages.projects.blob.new-pages.projects.blob.show-pages.projects.sho-ec79e51c.920eb3e5.chunk.js.map